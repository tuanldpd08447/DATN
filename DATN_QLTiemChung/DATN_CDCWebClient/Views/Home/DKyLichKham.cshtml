<div class="container mt-5">
    <h2 class="card-header bg-body-secondary py-4 mb-5 row">
        <div class="col-1 border-2 border-end">
        </div>
        <div class="col fw-bold" style="color: #2fb388;">
            Đăng Ký Lịch Khám
        </div>
    </h2>
    <form class="pb-5">
        <!-- Personal Information -->
        <h5 class="mb-3">Thông tin người khám</h5>
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="fullName" class="form-label">Họ tên người tiêm</label>
                <input type="text" class="form-control" id="fullName" placeholder="Nhập họ và tên">
            </div>
            <div class="col-md-6">
                <label for="dob" class="form-label">Ngày sinh người tiêm</label>
                <input type="date" class="form-control" id="dob">
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label class="form-label">Giới tính</label>
                <div class="d-flex flex-column">
                    <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                        <input type="radio" class="btn-check" name="gender" id="male" value="Nam" autocomplete="off">
                        <label class="btn btn-outline custom-btn" for="male">Nam</label>

                        <input type="radio" class="btn-check" name="gender" id="female" value="Nữ" autocomplete="off">
                        <label class="btn btn-outline custom-btn" for="female">Nữ</label>
                    </div>

                    <style>
                        .custom-btn {
                            color: #2fb388;
                            border-color: #2fb388;
                        }

                        .btn-check:hover + .custom-btn {
                            background-color: #2fb388;
                            color: white;
                            border-color: #2fb388;
                        }

                        .btn-check:checked + .custom-btn {
                            background-color: #2fb388;
                            color: white;
                            border-color: #2fb388;
                        }
                    </style>
                </div>
            </div>
            <div class="col-md-6">
                <label for="medicalId" class="form-label">Mã y tế (nếu có)</label>
                <input type="text" class="form-control" id="medicalId" placeholder="Nhập mã y tế">
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-4">
                <label for="city" class="form-label">Tỉnh thành</label>
                <select name="" class="form-control" id="city">
                    <option value=""></option>
                </select>
            </div>
            <div class="col-md-4">
                <label for="district" class="form-label">Quận huyện</label>
                <select name="" class="form-control" id="district">
                    <option value=""></option>
                </select>
            </div>
            <div class="col-md-4">
                <label for="ward" class="form-label">Phường xã</label>
                <select name="" class="form-control" id="ward">
                    <option value=""></option>
                </select>
            </div>
        </div>

        <div class="mb-3">
            <label for="address" class="form-label">Số nhà, tên đường</label>
            <input type="text" class="form-control" id="address" placeholder="Nhập số nhà, tên đường">
        </div>

        <!-- Contact Information -->
        <h5 class="mb-3">Thông tin liên hệ</h5>
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="contactName" class="form-label">Họ tên người liên hệ</label>
                <input type="text" class="form-control" id="contactName" placeholder="Nhập họ và tên">
            </div>
            <div class="col-md-6">
                <label for="relationship" class="form-label">Mối quan hệ với người tiêm</label>
                <input type="text" class="form-control" id="relationship" placeholder="Nhập mối quan hệ">
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label for="contactPhone" class="form-label">Số điện thoại người liên hệ</label>
                <input type="text" class="form-control" id="contactPhone" placeholder="Nhập số điện thoại">
            </div>
        </div>
        <h5 class="mb-3">Thông tin dịch vụ</h5>
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="center" class="form-label">Trung tâm muốn tiêm</label>
                <input type="text" class="form-control" id="center" placeholder="Nhập tên trung tâm">
            </div>
            <div class="col-md-6">
                <label for="numPeople" class="form-label">Số người đến khám (Nhập số lượng người tham gia cuộc hẹn .Ví dụ: 2 cho mẹ và con )</label>
                <input type="number" class="form-control" id="numPeople" min="1" value="1" required>
                <small id="numPeopleHelp" class="form-text text-muted"></small>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label for="preferredDate" class="form-label">Ngày mong muốn (Chỉ được hẹn trước trong vòng 02 tuần)</label>
                <input type="date" class="form-control" id="preferredDate" min="" max="">
            </div>
            <div class="col-md-2">
                <label for="preferredTime" class="form-label">Thời gian mong muốn</label>
                <div class="row">
                    <select class="form-control text-center col" id="preferredTime" required>
                        <option class="" value="">Chọn thời gian</option>
                    </select>
                    <i class="bi bi-x-circle Double-end col-1 text-danger fs-3 fw-bolder"></i>
                    <i class="bi bi-check-circle Double-end col-1 text-success fs-3 fw-bolder"></i>
                </div>
            </div>
        </div>
        <div class="row mb-3">
            <div class="col">
                <label for="desiredCheckup" class="form-label">Mong muốn khám</label>
                <textarea class="form-control" id="desiredCheckup" rows="3" placeholder="Nhập yêu cầu hoặc mong muốn của bạn (tuỳ chọn)"></textarea>
            </div>
        </div>

        <script>
            // JavaScript để thiết lập ngày min và max
            document.addEventListener('DOMContentLoaded', function () {
                const today = new Date();
                const twoWeeksLater = new Date(today);
                twoWeeksLater.setDate(today.getDate() + 14);

                // Format ngày theo định dạng yyyy-mm-dd
                const formatDate = (date) => {
                    const year = date.getFullYear();
                    const month = (date.getMonth() + 1).toString().padStart(2, '0');
                    const day = date.getDate().toString().padStart(2, '0');
                    return `${year}-${month}-${day}`;
                };

                // Gán giá trị cho min và max
                const todayFormatted = formatDate(today);
                const twoWeeksLaterFormatted = formatDate(twoWeeksLater);

                document.getElementById('preferredDate').min = todayFormatted;
                document.getElementById('preferredDate').max = twoWeeksLaterFormatted;
            });
            // Hàm tạo các mốc thời gian cách nhau 5 phút từ 7h30 đến 16h
            document.addEventListener('DOMContentLoaded', function () {
                const startTime = 7 * 60 + 30; // 7h30 = 450 phút
                const endTime = 16 * 60; // 16h = 960 phút
                const timeSelect = document.getElementById('preferredTime');

                // Tạo các mốc thời gian
                for (let time = startTime; time <= endTime; time += 5) {
                    let hours = Math.floor(time / 60); // Tính giờ
                    let minutes = time % 60; // Tính phút

                    // Đảm bảo định dạng 2 chữ số cho giờ và phút
                    hours = hours.toString().padStart(2, '0');
                    minutes = minutes.toString().padStart(2, '0');

                    const option = document.createElement('option');
                    option.value = `${hours}:${minutes}`;
                    option.textContent = `${hours}:${minutes}`;
                    timeSelect.appendChild(option);
                }
            });
        </script>


        <button type="submit" class="btn " style=" background-color: #2fb388;color: white;border-color: #2fb388;">Hoàn thành đăng ký</button>
    </form>
</div>